@model IEnumerable<HomeLoan.Models.LoanApplication>
@{
    ViewData["Title"] = ViewBag.Title ?? "Applications";
    var filter = (ViewBag.Filter ?? "all").ToString();
}

<div class="admin-panel panel-applications p-4 rounded-4 my-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0">@ViewData["Title"]</h3>
        <div>
            <a class="btn btn-outline-secondary me-2" href="/Admin/Dashboard" style="color:white">Back to Dashboard</a>
            <a class="btn btn-outline-primary" href="/Admin/Applications?filter=all" style="color:white">All</a>
        </div>
    </div>

    @if (!Model.Any())
    {
        <div class="alert alert-info">No applications found ({filter}).</div>
    }
    else
    {
        <div class="table-responsive panel-table">
            <table class="table table-striped table-hover align-middle mb-0">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Property</th>
                        <th>Amount</th>
                        <th>Tenure</th>
                        <th>Interest</th>
                        <th>Status</th>
                        <th>Applied</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var a in Model)
                    {
                        <tr>
                            <td>@a.Id</td>
                            <td>@a.FirstName @a.LastName</td>
                            <td>@a.PropertyName</td>
                            <td>₹@a.LoanAmount.ToString("N0")</td>
                            <td>@(a.TenureMonths / 12) yrs</td>
                            <td>@a.InterestRate %</td>
                            <td>@a.Status</td>
                            <td>@a.AppliedOn.ToLocalTime().ToString("yyyy-MM-dd HH:mm")</td>
                            <td>
                                <a class="btn btn-sm btn-primary" href="/Admin/ApplicationDetails?id=@a.Id">Details</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>

<style>
    /* Panel wrapper — consistent elevated card look */
    .admin-panel {
        background: linear-gradient(135deg, #e0e7ff 0%, #a8d1ff 40%, #004aad 100%);
        
        border: 1px solid rgba(3,37,65,0.06);
        box-shadow: 0 12px 40px rgba(2,6,23,0.07);
        border-left: 6px solid #00509e; /* blue accent for applications page */
    }

    .panel-table .table thead th {
        background: #f6f8fb;
        border-bottom: 2px solid rgba(0,0,0,0.05);
    }

    .panel-table .table tbody tr:hover {
        background: #f9fbff;
        transform: translateY(-1px);
        box-shadow: 0 6px 18px rgba(2,6,23,0.03);
    }
</style>